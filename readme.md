# Subtitles translator
### <i>Целевая аудитория</i>
Этот небольшой проект рассчитан на людей, которые любят посмотреть сериалы на английском. Мне жутко надоело постоянно лазить в переводчик, а затем переписывать предложения (или просто слова) себе в Notion. Поэтому я решил сделать небольшую оптимизацию.

### <i>Принцип работы</i>
Запущенное приложение реагирует на нажатие клавиш (а после нажатия хоткея - на мышку):
1. Ctrl + Z + X - показать перевод субтитров (ВАЖНО: по умолчанию программа просто захватывает кусок экрана в котором приблизительно находятся субтитры и потом распознаёт его, координаты этого прямоугольника я настраивал под свой монитор, у вас прямоугольник может съехать и ничего переводиться не будет. Размеры и координаты этого прямоугольника можно задавать через файл конфиг, о котором чуть позже)
2. После отображения картинки с дефолтным переводом (пока она всё ещё открыта), программа начинает реагировать на нажатие ПКМ, а именно: если зажать ПКМ и начать двигать, будет отрисовываться прямоугольник - таким образом вы можете выделять кастомную область экрана, которую хотите перевести. Как только ПКМ отпущена, вам будет показан перевод куска страницы, который вы выделили (перевод всегда выравнивается по ширине экрана и отображается чуть выше верхнего ребра прямоугольника, сорян за это)
3. Space (пробел) - просто закрыть окошко с переводом
4. Q - отправить сообщение в формате: "English text - Русский перевод" в Notion и затем закрыть окошко с переводом

### <i>Пользовательские настройки (business/config/usersettings.py)</i>
Комментами описал что за что отвечает, внизу как раз дефолтные координаты для прямоугольника (если не выделять мышкой самому), можно их настраивать. (ВНИМАНИЕ: можно было и не париться с этим прямоугольнкиом и переводить тупо всю страницу, но тогда появляется куча непонятных кракозябр, с которыми тяжело бороться)

### <i>Как начать пользоваться</i>
В файле confugurer.py:
1) Настраиваем путь до tesseract (его надо предварительно скачать на компьютер, я вроде отсюда качал - https://codetoprosper.com/tesseract-ocr-for-windows) <code>pytesseract.pytesseract.tesseract_cmd = r'C:\YOUR PATH TO TESSERACT\tesseract.exe'</code>
2) Добавляем свой QAUTH токен (взять можно здесь https://cloud.yandex.ru/docs/iam/operations/iam-token/create): <code>QAUTH_TOKEN: str = 'YOUR QAUTH TOKEN'</code>
3) Добавляем FOLDER ID (вот тут глянуть https://cloud.yandex.ru/docs/translate/quickstart): <code>FOLDER_ID: str = 'YOUR FOLDER ID'</code>
4) Добавляем токен для Notion: <code>NOTION_TOKEN = 'YOUR NOTION TOKEN'</code> (создаём интеграцию и там будет токен: https://www.notion.so/my-integrations, после создания интеграции идём на страничку в Notion, куда будут добавляться записи, тыкаем 3 точки справа сверху и в разделе connections добавляем только что созданную интеграцию)

В файле notiontool.py
1) Подставляем id страницы, на которую будут отправляться записи <code>newC1_url = 'https://api.notion.com/v1/blocks/ID OF YOUR PAGE/children'</code> (это набор из 32 рандомных символов в вашем url (когда вы на этой странице находитесь), подробнее можно почитать в документации Notion Api)

### <i>Библиотеки</i>
1) <code>pip install pytesseract</code>
2) <code>pip install pyautogui</code>
3) <code>pip install opencv-python</code>
4) <code>pip install requests</code>

Мб ещё что-то попросит, тогда тоже установить